<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Opening in Obsidian...</title>
  <style>
    body { font-family: -apple-system, system-ui, sans-serif; max-width: 500px; margin: 80px auto; padding: 0 20px; text-align: center; color: #333; }
    a { color: #7c3aed; text-decoration: none; font-weight: 500; }
    a:hover { text-decoration: underline; }
    .note-name { font-size: 0.9em; color: #666; margin-top: 8px; }
  </style>
</head>
<body>
  <h2>ðŸ“Ž Opening in Obsidian...</h2>
  <p>If nothing happened, <a id="link" href="#">tap here to open</a>.</p>
  <p class="note-name" id="path"></p>
  <script>
    // Fallback: derive obsidian URI from the URL path
    const base = '/obsidian-link/';
    let path = window.location.pathname;
    if (path.startsWith(base)) path = path.slice(base.length);
    // Remove trailing slash or .html
    path = path.replace(/\/$/, '').replace(/\.html$/, '');
    const uri = 'obsidian://open?vault=seb-obsidian&file=' + encodeURIComponent(path);
    document.getElementById('path').textContent = path;
    document.getElementById('link').href = uri;
    window.location.href = uri;
  </script>
</body>
</html>
